<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Virtual Closet ‚Äì Demo Mode</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="theme-color" content="#197c8a">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icons/icon-192.png">
  <style>
    :root{
      --teal:#197c8a;
      --teal-soft:#1d8fa0;
      --bg:#f7f8fa;
      --card:#ffffff;
      --soft:#fef6f6;
      --border:#e4e7ec;
      --danger:#bf1234;
      --accent:#ffb55e;
      --text:#163047;
      --muted:#7a8699;
      --radius-lg:14px;
      --radius-md:10px;
      --shadow-soft:0 10px 30px rgba(15,35,52,0.09);
      --transition-fast:0.18s ease;
      --font:"system-ui",-apple-system,BlinkMacSystemFont,"SF Pro Text",sans-serif;
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      font-family:var(--font);
      background:var(--bg);
      color:var(--text);
    }
    h1,h2,h3,h4,h5,p{margin:0;}
    a{color:var(--teal);text-decoration:none;}
    button{
      font-family:inherit;
      cursor:pointer;
      border:none;
      outline:none;
      transition:background-color var(--transition-fast),transform var(--transition-fast),box-shadow var(--transition-fast),opacity var(--transition-fast);
    }
    button:active{transform:scale(0.98);}
    input,select{
      width:100%;
      padding:11px 12px;
      font-size:14px;
      border-radius:8px;
      border:1px solid var(--border);
      outline:none;
      transition:border-color var(--transition-fast),box-shadow var(--transition-fast),background-color var(--transition-fast);
      font-family:inherit;
    }
    input:focus,select:focus{
      border-color:var(--teal);
      box-shadow:0 0 0 2px rgba(25,124,138,0.15);
      background:#fff;
    }
    .page-wrap{
      max-width:540px;
      margin:0 auto;
      min-height:100vh;
      display:flex;
      flex-direction:column;
      background:#fff;
      box-shadow:0 0 40px rgba(0,0,0,0.03);
    }

    .demo-banner{
      padding:8px 18px;
      font-size:11px;
      background:#f0fafb;
      color:#136571;
      display:flex;
      align-items:center;
      gap:8px;
      border-bottom:1px solid #d7eef1;
    }
    .demo-pill{
      padding:3px 8px;
      border-radius:999px;
      font-size:10px;
      background:#136571;
      color:#fff;
      text-transform:uppercase;
      letter-spacing:0.06em;
    }

    /* Auth screen */
    #authScreen{
      flex:1;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      padding:40px 26px 32px;
      background:radial-gradient(circle at top,#fdf6ff,#f7fafc);
    }
    .auth-card{
      width:100%;
      max-width:360px;
      background:#ffffff;
      padding:26px 22px 22px;
      border-radius:var(--radius-lg);
      box-shadow:var(--shadow-soft);
    }
    .app-title{
      font-size:24px;
      font-weight:650;
      text-align:center;
      margin-bottom:2px;
      color:var(--teal);
    }
    .app-subtitle{
      text-align:center;
      font-size:12px;
      color:var(--muted);
      margin-bottom:18px;
    }
    .field-label{
      font-size:11px;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:0.08em;
      color:var(--muted);
      margin-bottom:4px;
    }
    .mb-14{margin-bottom:14px;}
    .btn-primary{
      width:100%;
      padding:11px;
      border-radius:8px;
      background:var(--teal);
      color:#fff;
      font-size:14px;
      font-weight:600;
      box-shadow:0 6px 16px rgba(25,124,138,0.25);
    }
    .btn-primary:hover{
      background:var(--teal-soft);
      box-shadow:0 8px 20px rgba(25,124,138,0.28);
    }
    .btn-outline{
      width:100%;
      padding:9px;
      margin-top:8px;
      border-radius:8px;
      border:1px solid var(--teal);
      color:var(--teal);
      font-size:13px;
      font-weight:500;
      background:#f7fbfc;
    }
    .btn-outline:hover{background:#e8f5f7;}
    .auth-note{
      margin-top:8px;
      text-align:left;
      font-size:11px;
      color:var(--muted);
    }
    .auth-toggle{
      display:flex;
      gap:8px;
      background:#f1f6f8;
      padding:4px;
      border-radius:999px;
      margin-bottom:18px;
    }
    .auth-toggle-btn{
      flex:1;
      border:none;
      background:transparent;
      border-radius:999px;
      font-size:12px;
      font-weight:600;
      color:var(--muted);
      padding:6px 0;
      cursor:pointer;
    }
    .auth-toggle-btn.active{
      background:#ffffff;
      color:var(--teal);
      box-shadow:0 4px 14px rgba(18,87,99,0.18);
    }
    .auth-form{display:none;}
    .auth-form.active{display:block;}
    .auth-footer{
      margin-top:12px;
      font-size:11px;
      text-align:center;
      color:var(--muted);
    }
    .link{
      color:var(--teal);
      font-weight:500;
      cursor:pointer;
    }

    /* Modal */
    .modal-backdrop{
      position:fixed;
      inset:0;
      background:rgba(7,18,29,0.26);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:40;
    }
    .modal{
      background:#ffffff;
      padding:18px 18px 14px;
      border-radius:var(--radius-lg);
      max-width:320px;
      width:88%;
      box-shadow:0 18px 40px rgba(0,0,0,0.18);
      font-size:12px;
      color:var(--text);
    }
    .modal h3{
      font-size:15px;
      margin-bottom:6px;
      color:var(--teal);
    }
    .modal button{
      margin-top:10px;
      padding:7px 12px;
      border-radius:7px;
      background:var(--teal);
      color:#fff;
      font-size:12px;
    }

    /* App container */
    #appContainer{
      flex:1;
      display:none;
      flex-direction:column;
      background:var(--bg);
    }
    .app-header{
      padding:16px 18px 10px;
      background:#ffffff;
      border-bottom:1px solid var(--border);
    }
    .app-header h1{
      font-size:19px;
      font-weight:650;
    }
    .app-header p{
      font-size:11px;
      color:var(--muted);
      margin-top:2px;
    }

    .status-bar{
      margin:8px 18px 0;
      padding:6px 9px;
      background:#e8faf2;
      color:#16754f;
      border-radius:9px;
      font-size:10px;
      display:none;
    }
    .status-bar.show{
      display:block;
      animation:fadeIn 0.2s ease-out;
    }

    /* Tabs */
    .tab-view{
      display:none;
      padding:14px 18px 18px;
      overflow-y:auto;
      flex:1;
    }
    .tab-view.active{display:block;}

    .mini-muted{
      font-size:10px;
      color:var(--muted);
    }
    .section-title{
      font-size:13px;
      font-weight:600;
      margin:4px 0 6px;
    }

    /* Wardrobe grid */
    .search-row{
      display:flex;
      gap:10px;
      margin-bottom:14px;
    }
    .wardrobe-grid{
      display:grid;
      grid-template-columns:repeat(3,minmax(0,1fr));
      gap:10px;
    }
    .item-card{
      background:#f5fbfc;
      border-radius:var(--radius-md);
      padding:10px 6px 8px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:4px;
      cursor:pointer;
      box-shadow:0 4px 10px rgba(19,101,113,0.04);
      transition:transform var(--transition-fast),box-shadow var(--transition-fast),background-color var(--transition-fast);
      font-size:11px;
      color:var(--text);
    }
    .item-card span.icon{
      font-size:26px;
      display:flex;
      align-items:center;
      justify-content:center;
      width:46px;
      height:46px;
      border-radius:12px;
      background:#fff;
      overflow:hidden;
    }
    .item-card:hover{
      transform:translateY(-2px);
      box-shadow:0 8px 18px rgba(13,55,75,0.12);
      background:#ffffff;
    }

    /* Wardrobe detail */
    .detail-card{
      margin-bottom:12px;
      background:#ffffff;
      border-radius:var(--radius-lg);
      box-shadow:var(--shadow-soft);
      padding:16px 14px 14px;
      text-align:center;
    }
    .detail-icon{
      font-size:52px;
      margin-bottom:6px;
      width:80px;
      height:80px;
      border-radius:26px;
      background:#f0f5f7;
      display:flex;
      align-items:center;
      justify-content:center;
      margin-left:auto;
      margin-right:auto;
      overflow:hidden;
    }
    .detail-name{font-weight:650;font-size:17px;margin-bottom:2px;}
    .badge{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:3px 9px;
      border-radius:999px;
      background:#e9f5f6;
      font-size:9px;
      color:var(--teal);
      text-transform:uppercase;
      letter-spacing:0.09em;
    }
    .detail-desc{margin:8px 0 4px;font-size:11px;color:var(--muted);}
    .detail-color{font-size:10px;color:var(--muted);}
    .detail-nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin:10px 0 8px;
      font-size:11px;
      color:var(--muted);
    }
    .detail-nav button{
      padding:6px 11px;
      border-radius:7px;
      background:#f5f5f7;
      font-size:10px;
    }
    .delete-btn{
      width:100%;
      padding:9px;
      border-radius:8px;
      background:var(--danger);
      color:#fff;
      font-size:13px;
      font-weight:600;
      margin-top:4px;
    }
    .delete-btn.confirming{background:#831024;}
    .back-chip{
      margin-bottom:10px;
      background:#f3f5f7;
      padding:7px 10px;
      border-radius:8px;
      font-size:11px;
      color:var(--muted);
      display:inline-flex;
      align-items:center;
      gap:6px;
      cursor:pointer;
    }

    /* Scan / AI Scan */
    .scan-card{
      background:#fff8f3;
      padding:18px 16px 16px;
      border-radius:var(--radius-lg);
      box-shadow:var(--shadow-soft);
      text-align:center;
      margin-bottom:16px;
    }
    .scan-card .camera-icon{font-size:40px;margin-bottom:4px;}
    .scan-card p{font-size:11px;color:var(--muted);margin-bottom:10px;}
    .btn-camera{
      width:100%;
      padding:10px;
      border-radius:9px;
      background:var(--teal);
      color:#fff;
      font-size:13px;
      font-weight:600;
    }
    .scan-status{
      margin-top:7px;
      font-size:10px;
      color:var(--muted);
      min-height:14px;
    }
    .upload-fallback{
      margin-top:8px;
      font-size:10px;
      color:var(--muted);
    }
    .upload-fallback input{
      font-size:10px;
      padding:6px;
    }

    .ai-detected-list{
      display:flex;
      flex-direction:column;
      gap:10px;
      margin-bottom:8px;
    }
    .ai-item-card{
      border:1px solid var(--border);
      border-radius:12px;
      padding:10px;
      background:#fff;
      box-shadow:0 4px 12px rgba(15,35,52,0.05);
    }
    .ai-item-header{
      display:flex;
      justify-content:space-between;
      gap:12px;
      align-items:flex-start;
    }
    .ai-item-main{
      display:flex;
      align-items:center;
      gap:10px;
    }
    .ai-item-icon{
      width:40px;
      height:40px;
      border-radius:14px;
      background:#f0f4f7;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:20px;
      overflow:hidden;
    }
    .ai-item-icon img{
      width:100%;
      height:100%;
      object-fit:cover;
      border-radius:inherit;
      display:block;
    }
    .ai-item-name{
      font-weight:600;
      font-size:13px;
    }
    .ai-item-sub{
      font-size:11px;
      color:var(--muted);
    }
    .ai-item-checkbox{
      font-size:10px;
      text-transform:uppercase;
      letter-spacing:0.05em;
      color:var(--muted);
      display:flex;
      align-items:center;
      gap:6px;
      margin-top:4px;
    }
    .ai-item-checkbox input{
      accent-color:var(--teal);
      width:14px;
      height:14px;
    }
    .ai-item-meta{
      font-size:10px;
      color:var(--muted);
    }
    .ai-item-notes{
      font-size:10px;
      color:var(--text);
    }

    .recent-list{
      margin-top:4px;
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .recent-item{
      background:#ffffff;
      border-radius:7px;
      padding:6px 8px;
      display:flex;
      align-items:center;
      gap:8px;
      box-shadow:0 4px 10px rgba(0,0,0,0.03);
      font-size:10px;
      animation:fadeInUp 0.25s ease-out;
    }
    .recent-item span.icon{
      font-size:18px;
      width:32px;
      height:32px;
      display:flex;
      align-items:center;
      justify-content:center;
      border-radius:10px;
      background:#f5fbfc;
      overflow:hidden;
    }

    /* Outfits */
    .pill-button{
      padding:7px 10px;
      border-radius:999px;
      font-size:10px;
      display:inline-flex;
      align-items:center;
      gap:5px;
      box-shadow:0 4px 10px rgba(0,0,0,0.06);
      background:#ffffff;
      color:var(--teal);
      font-weight:500;
    }
    .pill-row{
      display:flex;
      gap:8px;
      margin-bottom:10px;
      flex-wrap:wrap;
    }
    .outfit-card{
      background:#fff5f6;
      padding:12px 10px 9px;
      border-radius:var(--radius-lg);
      margin-bottom:10px;
      box-shadow:var(--shadow-soft);
      font-size:11px;
      animation:fadeInUp 0.23s ease-out;
      position:relative;
    }
    .outfit-items{
      display:flex;
      gap:16px;
      margin:4px 0 6px;
    }
    .outfit-items .icon{
      font-size:22px;
      width:42px;
      height:42px;
      border-radius:14px;
      background:#f5f8fa;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }
    .icon img,
    .recent-item span.icon img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      border-radius:inherit;
    }
    .detail-icon img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      border-radius:inherit;
    }
    .tag{
      display:inline-flex;
      padding:3px 8px;
      border-radius:999px;
      background:#fff;
      font-size:9px;
      color:var(--teal);
      margin-top:2px;
    }
    .outfit-actions{
      margin-top:6px;
      display:flex;
      align-items:center;
      gap:6px;
    }
    .btn-save-outfit{
      flex:1;
      padding:8px 10px;
      border-radius:8px;
      background:var(--teal);
      color:#fff;
      font-size:11px;
      font-weight:600;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:5px;
    }
    .btn-save-outfit.saved{background:#1d9a67;}
    .delete-outfit{
      width:24px;
      height:24px;
      border-radius:999px;
      background:#ffe4e8;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:13px;
      color:#bb1c32;
    }
    .outfit-label{font-size:10px;color:var(--muted);}

    /* Profile / Settings */
    .profile-card{
      background:#f8f4ff;
      padding:20px 12px 14px;
      border-radius:var(--radius-lg);
      text-align:center;
      box-shadow:var(--shadow-soft);
      margin-bottom:12px;
    }
    .profile-avatar{
      width:56px;
      height:56px;
      border-radius:999px;
      background:#2f7ee6;
      display:flex;
      align-items:center;
      justify-content:center;
      margin:0 auto 6px;
      color:#fff;
      font-size:27px;
    }
    .profile-email{
      font-size:13px;
      font-weight:600;
      margin-bottom:2px;
    }
    .profile-status{
      font-size:10px;
      color:var(--muted);
    }
    .profile-stats{
      display:flex;
      gap:10px;
      margin-top:10px;
    }
    .stat-box{
      flex:1;
      padding:10px 8px;
      background:#fff;
      border-radius:10px;
      box-shadow:0 4px 12px rgba(0,0,0,0.03);
      font-size:10px;
      color:var(--muted);
    }
    .stat-number{
      font-size:17px;
      font-weight:650;
      color:var(--teal);
      margin-bottom:2px;
    }
    .profile-local-note{
      margin-top:6px;
      font-size:9px;
      color:#7d8ca0;
    }
    .info-card{
      background:#ffffff;
      padding:10px 10px 9px;
      border-radius:var(--radius-lg);
      box-shadow:var(--shadow-soft);
      font-size:10px;
      color:var(--muted);
      margin-bottom:12px;
    }
    .info-row{
      display:flex;
      justify-content:space-between;
      margin-bottom:5px;
    }
    .info-label{font-weight:500;}
    .logout-btn{
      width:100%;
      padding:9px;
      border-radius:9px;
      background:var(--danger);
      color:#fff;
      font-weight:600;
      font-size:12px;
    }

    /* AI settings */
    .mini-label{
      font-size:9px;
      text-transform:uppercase;
      letter-spacing:0.08em;
      color:var(--muted);
      margin-bottom:4px;
      display:block;
    }
    .api-key-row{
      display:flex;
      gap:6px;
      align-items:center;
      margin-bottom:6px;
    }
    .api-key-row input{
      flex:1;
      padding:7px 8px;
      font-size:10px;
    }
    .api-btn-small{
      padding:6px 8px;
      border-radius:7px;
      font-size:9px;
      background:#f3f5f7;
      color:#556577;
      white-space:nowrap;
    }
    .api-btn-small-primary{
      padding:6px 9px;
      border-radius:7px;
      font-size:9px;
      background:var(--teal);
      color:#fff;
      white-space:nowrap;
    }
    .api-actions-row{
      display:flex;
      gap:6px;
      margin-bottom:4px;
      margin-top:2px;
      flex-wrap:wrap;
    }
    .pplx-status-ok{color:#16754f;}
    .pplx-status-warn{color:#c27a17;}
    .pplx-status-off{color:#7a8699;}

    /* Bottom nav */
    .bottom-nav{
      position:sticky;
      bottom:0;
      background:#ffffff;
      border-top:1px solid var(--border);
      display:flex;
      justify-content:space-around;
      padding:6px 16px 4px;
      z-index:20;
    }
    .nav-item{
      flex:1;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:1px;
      padding:4px 0;
      color:var(--muted);
      font-size:8px;
      cursor:pointer;
      transition:color var(--transition-fast),transform var(--transition-fast),background-color var(--transition-fast);
      border-radius:10px;
    }
    .nav-item span.icon{font-size:18px;}
    .nav-item.active{
      color:var(--teal);
      background:#f2fafb;
      transform:translateY(-1px);
    }

    /* Animations */
    @keyframes fadeInUp{
      from{opacity:0;transform:translateY(6px);}
      to{opacity:1;transform:translateY(0);}
    }
    @keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
    .pulse{animation:pulse 0.7s ease-out 0s 1;}
    @keyframes pulse{
      0%{box-shadow:0 0 0 0 rgba(25,124,138,0.4);}
      100%{box-shadow:0 0 0 14px rgba(25,124,138,0);}
    }

    @media (max-height:640px){
      #authScreen{padding-top:24px;}
    }
  </style>
</head>
<body>
<div class="page-wrap">

  <!-- Demo Banner -->
  <div class="demo-banner">
    <div class="demo-pill">Local preview</div>
    <div>Accounts & data stay on this device. AI scans run via your Perplexity key.</div>
  </div>

  <!-- Auth Screen -->
  <section id="authScreen">
    <div class="auth-card">
      <div class="app-title">Virtual Closet</div>
      <div class="app-subtitle">Sign in or create an account</div>

      <div class="auth-toggle">
        <button class="auth-toggle-btn active" data-view="login">Login</button>
        <button class="auth-toggle-btn" data-view="signup">Sign Up</button>
      </div>

      <div id="loginView" class="auth-form active">
        <div class="field-label">Email</div>
        <input id="loginEmailInput" type="email" placeholder="you@example.com" class="mb-14">

        <div class="field-label">Password</div>
        <input id="loginPasswordInput" type="password" placeholder="At least 8 characters" class="mb-14">

        <button id="loginSubmit" class="btn-primary">Login</button>
        <p class="auth-note">
          Use the email you registered with. Tokens stay in this browser.
        </p>
      </div>

      <div id="signupView" class="auth-form">
        <div class="field-label">Email</div>
        <input id="signupEmailInput" type="email" placeholder="you@example.com" class="mb-14">

        <div class="field-label">Password</div>
        <input id="signupPasswordInput" type="password" placeholder="At least 8 characters" class="mb-14">

        <button id="signupSubmit" class="btn-primary">Create account</button>
        <p class="auth-note">
          Passwords are hashed in SQLite locally. No external services involved.
        </p>
      </div>
    </div>
  </section>

  <!-- Main App -->
  <section id="appContainer">
    <header class="app-header">
      <h1 id="headerTitle">Your Wardrobe</h1>
      <p id="headerSubtitle"></p>
    </header>

    <div id="globalStatus" class="status-bar" role="status" aria-live="polite"></div>

    <!-- Wardrobe Tab -->
    <main id="tab-wardrobe" class="tab-view active">
      <div id="wardrobeGreeting" class="mini-muted" style="margin-bottom:6px;"></div>

      <div id="wardrobeListView">
        <div class="search-row">
          <input id="wardrobeSearch" type="search" placeholder="Search items...">
          <select id="categoryFilter" aria-label="Filter by category">
            <option value="all">All</option>
            <option value="Tops">Tops</option>
            <option value="Bottoms">Bottoms</option>
            <option value="Dresses">Dresses</option>
            <option value="Outerwear">Outerwear</option>
            <option value="Accessories">Accessories</option>
            <option value="Shoes">Shoes</option>
          </select>
        </div>
        <div id="wardrobeGrid" class="wardrobe-grid"></div>
        <div id="wardrobeEmpty" class="mini-muted" style="margin-top:6px;display:none;">
          No items yet. Add something via <strong>Scan</strong> to see it here.
        </div>
      </div>

      <div id="wardrobeDetailView" style="display:none;">
        <div class="back-chip" id="backToGrid">‚Üê Back to grid</div>
        <div id="detailCard" class="detail-card"></div>
      </div>
    </main>

    <!-- Scan Tab -->
    <main id="tab-scan" class="tab-view">
      <div class="scan-card">
        <div class="camera-icon">üì∑</div>
        <h3 style="font-size:14px;margin-bottom:4px;">AI Wardrobe Scan</h3>
        <p class="mini-muted" style="margin-bottom:10px;">
          Snap or upload a look, then run the AI stylist.
        </p>

        <button id="capturePhotoBtn" class="btn-camera">Take photo</button>
        <input id="captureInput" type="file" accept="image/*" capture="environment" style="display:none">
        <div class="mini-muted" style="margin-top:4px;">
          Uses your device camera when supported.
        </div>

        <div id="scanStatus" class="scan-status" aria-live="polite"></div>

        <div class="upload-fallback">
          <div>Or upload</div>
          <input id="uploadInput" type="file" accept="image/*">
          <div class="mini-muted">
            Pick a file, then tap ‚ÄúAnalyze with AI‚Äù.
          </div>
        </div>

      <div id="aiUploadPreview" class="mini-muted" style="margin-top:6px;"></div>
      <div id="aiScanResults" style="margin-top:10px;"></div>
    </div>

    <div>
      <div class="section-title">Recently Added</div>
      <div id="recentlyAdded" class="recent-list"></div>
      <div id="recentEmpty" class="mini-muted">
          No items added yet. Scan or upload to see imports here.
        </div>
      </div>
    </main>

    <!-- Outfits Tab -->
    <main id="tab-outfits" class="tab-view">
      <div class="pill-row">
        <button id="regenOutfitsBtn" class="pill-button">üîÑ Regenerate suggestions</button>
        <button id="scrollToCreateBtn" class="pill-button">‚ú® Create your own outfit</button>
      </div>

      <div id="outfitSuggestionsWrap">
        <div class="section-title">Curated Looks for You</div>
        <p class="mini-muted" style="margin-bottom:6px;">
          Sample ‚ÄúAI-like‚Äù suggestions generated from your demo wardrobe.
        </p>
        <div id="outfitSuggestions"></div>
      </div>

      <div id="createOutfitCard" class="create-outfit-card">
        <h3>Create New Outfit</h3>
        <p class="mini-muted">
          Choose items from your wardrobe. Shows full CRUD behavior.
        </p>
        <div id="createOutfitNotice" class="create-notice"></div>

        <div class="create-grid">
          <div>
            <label for="newOutfitName">Outfit Name</label>
            <input id="newOutfitName" type="text" placeholder="e.g., My Casual Friday">
          </div>
          <div>
            <label for="newOutfitOccasion">Occasion</label>
            <select id="newOutfitOccasion">
              <option>Casual</option>
              <option>Professional</option>
              <option>Formal</option>
              <option>Sport</option>
            </select>
          </div>
          <div>
            <label for="newOutfitTop">Select a Top</label>
            <select id="newOutfitTop"></select>
          </div>
          <div>
            <label for="newOutfitBottom">Select Bottoms</label>
            <select id="newOutfitBottom"></select>
          </div>
          <div>
            <label for="newOutfitShoes">Select Shoes</label>
            <select id="newOutfitShoes"></select>
          </div>
        </div>

        <div id="createOutfitError" class="error-text" style="display:none;"></div>

        <div class="create-actions" style="margin-top:6px;display:flex;gap:6px;">
          <button id="cancelCreateOutfit" class="btn-ghost">Cancel</button>
          <button id="saveNewOutfit" class="btn-create-save">Save Outfit</button>
        </div>
      </div>

      <div class="section-title">Saved Outfits</div>
      <div id="savedOutfits"></div>
      <div id="savedOutfitsEmpty" class="mini-muted">
        No saved outfits yet. Save a curated look or create your own.
      </div>
    </main>

    <!-- Settings / Profile Tab -->
    <main id="tab-profile" class="tab-view">
      <div class="profile-card">
        <div class="profile-avatar">üë§</div>
        <div id="profileEmail" class="profile-email">user@example.com</div>
        <div class="profile-status">Local account</div>

        <div class="profile-stats">
          <div class="stat-box">
            <div id="statWardrobeCount" class="stat-number">0</div>
            <div>Items in Wardrobe</div>
          </div>
          <div class="stat-box">
            <div id="statOutfitCount" class="stat-number">0</div>
            <div>Saved Outfits</div>
          </div>
        </div>

        <div id="profileLocalNote" class="profile-local-note"></div>
      </div>

      <div class="info-card">
        <div class="info-row">
          <div class="info-label">Environment</div>
          <div>Local Demo</div>
        </div>
        <div class="info-row">
          <div class="info-label">Data Location</div>
          <div>This browser only</div>
        </div>
        <div class="info-row">
          <div class="info-label">Last Login</div>
          <div id="profileLastLogin">Today</div>
        </div>
      </div>

      <div class="info-card">
        <div class="section-title" style="margin-top:0;">Perplexity API Key</div>
        <p class="mini-muted">
          Stored only in this browser and sent with each AI scan so the backend can call Perplexity for you.
        </p>

        <label class="mini-label" for="pplxKeyInput">Perplexity API key</label>
        <div class="api-key-row">
          <input id="pplxKeyInput" type="password" placeholder="pplx-..." autocomplete="off">
          <button id="pplxToggleKeyVis" class="api-btn-small" type="button">Show</button>
        </div>

        <div class="api-actions-row">
          <button id="settingsSaveBtn" class="api-btn-small-primary" type="button">
            üíæ Save key (local only)
          </button>
          <button id="pplxClearBtn" class="api-btn-small" type="button">
            Clear key
          </button>
        </div>

        <div id="pplxStatus" class="mini-muted pplx-status-off">
          Add your Perplexity key to run AI scans.
        </div>
      </div>

      <div class="info-card">
        <div class="mini-muted">
          Real: local storage, flows, backend AI calls.<br>
          Mocked: auth, billing, production infra. Use at your own risk.
        </div>
      </div>

      <button id="logoutBtn" class="logout-btn">Logout</button>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav" aria-label="Primary">
      <div id="nav-wardrobe" class="nav-item active" data-tab="wardrobe" aria-label="Wardrobe">
        <span class="icon">üëö</span>
        <div>Wardrobe</div>
      </div>
      <div id="nav-scan" class="nav-item" data-tab="scan" aria-label="Scan">
        <span class="icon">üì∑</span>
        <div>Scan</div>
      </div>
      <div id="nav-outfits" class="nav-item" data-tab="outfits" aria-label="Outfits">
        <span class="icon">‚ú®</span>
        <div>Outfits</div>
      </div>
      <div id="nav-profile" class="nav-item" data-tab="profile" aria-label="Settings">
        <span class="icon">‚öôÔ∏è</span>
        <div>Settings</div>
      </div>
    </nav>
  </section>
</div>

<script src="app.js" defer></script>


</body>
</html>
